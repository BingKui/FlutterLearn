# Dart æ•°æ®ç±»å‹

Dart ä¸­æ‰€æœ‰çš„ä¸œè¥¿éƒ½æ˜¯å¯¹è±¡ï¼Œæ‰€æœ‰çš„æ•°æ®ç±»å‹éƒ½ç»§æ‰¿è‡ª `Object` ï¼Œé»˜è®¤å€¼éƒ½æ˜¯ `null` ã€‚

## æ•°æ®ç±»å‹

- Numbersï¼šæ•°å­—ç±»å‹
- Stringsï¼šå­—ç¬¦ç±»å‹
- Booleansï¼šå¸ƒå°”ç±»å‹
- Listsï¼šæ•°ç»„ç±»å‹
- Mapsï¼šmap ç±»å‹
- Runesï¼šå­—ç¬¦ä¸²ä¸­çš„ Unicode å­—ç¬¦
- Symbolsï¼šç¬¦å·ç±»å‹

å› ä¸º Dart ä¸­çš„æ¯ä¸ªå˜é‡éƒ½å¼•ç”¨ä¸€ä¸ªå¯¹è±¡ï¼ˆä¸€ä¸ªç±»çš„å®ä¾‹ï¼‰ï¼Œä½ é€šå¸¸å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–å˜é‡ã€‚ä¸€äº›å†…ç½®ç±»å‹æœ‰è‡ªå·±çš„æ„é€ å‡½æ•°ã€‚ä¾‹å¦‚ï¼šä½ å¯ä»¥ä½¿ç”¨ `Map()` æ¥åˆ›å»ºä¸€ä¸ª map å¯¹è±¡ã€‚

### Numbers

Dart çš„æ•°å­—æœ‰ä¸¤ç§å½¢å¼ï¼š

- intï¼šæ•´æ•°å€¼ä¸å¤§äº 64 ä½ï¼Œå…·ä½“å–å†³äºå¹³å°ã€‚
- doubleï¼š64 ä½ï¼ˆåŒç²¾åº¦ï¼‰æµ®ç‚¹æ•°ï¼Œç”± IEEE 754 æ ‡å‡†è§„å®šã€‚

`int` å’Œ `double` éƒ½æ˜¯ `num` çš„å­ç±»å‹ã€‚num ç±»å‹åŒ…å«äº†åŸºç¡€çš„æ“ä½œï¼Œå¦‚ï¼š +ï¼Œ-ï¼Œ* å’Œ /ï¼Œä½ ä¹Ÿå¯ä»¥ä»ä¸­æ‰¾åˆ° `abs()` ã€ `ceil()` å’Œ `floor()` ä»¥åŠå…¶ä»–æ–¹æ³•çš„åœ°æ–¹ã€‚ï¼ˆä¾‹å¦‚ä½è¿ç®—ç¬¦ï¼š >> ï¼Œåœ¨ `int` ç±»ä¸­å®šä¹‰ï¼‰ã€‚å¦‚æœ num åŠå…¶å­ç±»å‹æ²¡æœ‰ä½ è¦æŸ¥æ‰¾çš„å†…å®¹ï¼Œ`dart:math` åº“å¯èƒ½ä¼šæœ‰ã€‚

æ•´æ•°ï¼š

```dart
int x = 1;
int hex = 0xDEADBEEF;
```

å°æ•°ï¼š

```dart
double y = 1.1;
double exponents = 1.42e5;
```

ç±»å‹äº’è½¬ï¼š

```dart
// String -> int
var one = int.parse('1');
assert(one == 1);

// String -> double
var onPointOne = double.parse('1.1');
assert(onPointOne == 1.1);

// int -> String
String oneAsString = 1.toString();
assert(oneAsString == '1');

// double -> String
String piAsString = 3.1415926.toStringAsFixed(2);
assert(piAsString == 3.14);
```

ä½è¿ç®—ï¼š

```dart
assert((3 << 1) == 6); // 0011 << 1 == 0110
```

### Strings

Dart å­—ç¬¦ä¸²æ˜¯ä¸€ç³»åˆ—çš„ UTF-16 ä»£ç å•å…ƒï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–è€…åŒå¼•å·åˆ›å»ºå­—ç¬¦ä¸²ï¼š

```dart
var s1 = 'Single quotes work well for string literals.';
var s2 = "Double quotes work just as well.";
var s3 = 'It\'s easy to escape the string delimiter.';
var s4 = "It's even easier to use the other delimiter.";
```

å¯ä»¥ä½¿ç”¨ `${expression}` æŠŠå˜é‡æ”¾åœ¨å­—ç¬¦ä¸²ä¸­ã€‚å¦‚æœè¡¨è¾¾å¼æ˜¯æ ‡è¯†ç¬¦ï¼Œæ€å¯ä»¥çœç•¥æ‹¬å·ï¼ˆ{}ï¼‰ã€‚æƒ³è¦è·å–å¯¹è±¡çš„å­—ç¬¦ä¸²ï¼ŒDart æä¾›äº†è°ƒç”¨å¯¹è±¡çš„ `toString()` ã€‚

```dart
var s = 'String';
assert('Dart has $s' == 'Dart has String');
assert('That is caps: ${s.toUpperCase()}' == 'That is caps: STRING');
```

> `==` è¿ç®—ç¬¦æµ‹è¯•ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç­‰æ•ˆã€‚å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²åŒ…å«ç›¸åŒçš„ä»£ç å•å…ƒåºåˆ—ï¼Œåˆ™å®ƒä»¬æ˜¯ç­‰æ•ˆçš„ã€‚

ä½ å¯ä»¥ä½¿ç”¨ç›¸é‚»çš„å­—ç¬¦ä¸²æ–‡å­—æˆ– `+` è¿ç®—ç¬¦æ¥é“¾æ¥å­—ç¬¦ä¸²ã€‚

```dart
var s1 = 'String' + 'Concatention';
var s2 = 'String'
    'Concatention';
assert(s1 == s2);
```

åˆ›å»ºå¤šè¡Œå­—ç¬¦ä¸²çš„å¦ä¸€ç§æ–¹æ³•ï¼šä½¿ç”¨å¸¦æœ‰å•å¼•å·æˆ–è€…åŒå¼•å·çš„ä¸‰é‡å¼•å·ï¼š

```dart
var s1 = '''
you can create
a long string
in here
'''
var s2 = """
you also can create
a long string
in here
"""
```

ä½ å¯ä»¥é€šè¿‡åœ¨å…¶å‰é¢åŠ ä¸Š `r` æ¥åˆ›å»ºä¸€ä¸ª â€œåŸå§‹â€ å­—ç¬¦ä¸²ã€‚

```dart
var s = r'This is a Raw string';
```

æ–‡å­—å­—ç¬¦ä¸²æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ï¼Œåªè¦ä»»ä½•å·®å€¼è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å˜é‡ï¼Œå…¶å€¼ä¸º null æˆ–è€…æ•°å€¼ã€å­—ç¬¦ä¸²æˆ–è€…å¸ƒå°”å€¼ã€‚

```dart
// These work in a const string.
const aConstNum = 0;
const aConstBool = true;
const aConstString = 'a constant string';

// These do NOT work in a const string.
var aNum = 0;
var aBool = true;
var aString = 'a string';
const aConstList = [1, 2, 3];

const validConstString = '$aConstNum $aConstBool $aConstString';
// const invalidConstString = '$aNum $aBool $aString $aConstList';
```

### Booleans

Dart æœ‰ä¸€ä¸ªåä¸º `bool` çš„ç±»å‹ï¼Œæ¥è¡¨ç¤ºå¸ƒå°”å€¼ã€‚åªæœ‰ä¸¤ä¸ªå¯¹è±¡å…·æœ‰ bool ç±»å‹ï¼š `true` å’Œ `false` ï¼Œå®ƒä»¬éƒ½æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚

Dart çš„ç±»å‹å®‰å…¨æ„å‘³ç€ä½ ä¸èƒ½ä½¿ç”¨ `if(nonbooleanValue)` æˆ–è€… `assert(nonbooleanValue)` ç­‰ä»£ç ã€‚ç›¸åï¼Œæ˜ç¡®æ£€æŸ¥å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```dart
// æ£€æŸ¥ä¸€ä¸ªç©ºå­—ç¬¦ä¸²
var fullName = '';
assert(fullName.isEmpty);
// æ£€æŸ¥ 0
var hitPoints = 0;
assert(hitPoints <= 0);
// æ£€æŸ¥æ˜¯å¦ä¸º null
var unicorn;
assert(unicorn == null);
// æ£€æŸ¥æ˜¯å¦æ˜¯ NaN
var iMeantToDoThis = 0 / 0;
assert(iMeantToDoThis.isNaN);
```

### Lists

Dart çš„æ•°ç»„å¯¹è±¡å«ï¼š `List` ã€‚

Dart çš„æ•°ç»„çœ‹èµ·æ¥åƒ JavaScript æ•°ç»„ã€‚åƒè¿™æ ·çš„ï¼š

```dart
var list = [1, 2, 3];
```

> æ³¨æ„ï¼šè¿™ä¸ªè¡¨è¾¾å¼è¢«ç±»å‹æ¨æ–­ä¸ºï¼š `List<int>` ã€‚å¦‚æœå°è¯•æ·»åŠ éæ•´æ•°åˆ°å¯¹è±¡ï¼Œåˆ†æå™¨æˆ–è€…è¿è¡Œæ—¶ä¼šå¼•å‘åˆ†ææŠ¥é”™ã€‚

åˆ—è¡¨ä½¿ç”¨é›¶å¼€å§‹ç´¢å¼•ï¼Œå…¶ä¸­ 0 æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œ `list.length - 1` æ˜¯æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚ ä½ å¯ä»¥åƒåœ¨ JavaScript ä¸­ä¸€æ ·è·å–åˆ—è¡¨çš„é•¿åº¦å¹¶å¼•ç”¨åˆ—è¡¨å…ƒç´ ã€‚

```dart
vat list = [1, 2, 3];
assert(list.length == 3);
assert(list[0] == 1);

list[1] == 1;
assert(list[1] == 1);
```

è¦åˆ›å»ºä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡çš„åˆ—è¡¨ï¼Œè¯·åœ¨åˆ—è¡¨æ–‡å­—ä¹‹å‰æ·»åŠ  `const` ã€‚

```dart
var constantList = const [1, 2, 3];
```

List ç±»å‹æœ‰è®¸å¤šæ–¹ä¾¿çš„æ–¹æ³•æ¥æ“ä½œåˆ—è¡¨ã€‚

### Maps

é€šå¸¸ï¼Œä¸€ä¸ª `map` æ˜¯é”®å’Œå€¼çš„å¯¹è±¡ã€‚é”®å’Œå€¼éƒ½å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å¯¹è±¡ã€‚æ¯ä¸ªé”®ç¨šå«©åˆšå‡ºç°ä¸€æ¬¡ï¼Œä½†æ˜¯ä½ å¯ä»¥å¤šæ¬¡ä½¿ç”¨ç›¸åŒçš„å€¼ã€‚

ä½¿ç”¨ map æ–‡å­—ç›´æ¥åˆ›å»ºã€‚

```dart
var gifts = {
  // Key:    Value
  'first': 'partridge',
  'second': 'turtledoves',
  'fifth': 'golden rings'
};

var nobleGases = {
  2: 'helium',
  10: 'neon',
  18: 'argon',
};
```

> åˆ†æå™¨æ¨æ–­å‡º `gifts` çš„ç±»å‹ä¸º `Map<String, String>` å¹¶ä¸” `nobleGases` çš„ç±»å‹ä¸º `Map<int, String>`ã€‚å¦‚æœå°è¯•æ·»åŠ é”™è¯¯ç±»å‹çš„å€¼åˆ°ä»»ä½•ä¸€ä¸ª mapï¼Œåˆ†æå™¨æˆ–è€…è¿è¡Œæ—¶åˆ†æä¼šæŠ¥é”™ã€‚

ä½ å¯ä»¥é€šè¿‡æ„é€ å™¨åˆ›å»ºä¸€ä¸ªåŒæ ·çš„ mapã€‚

```dart
var gifts = Map();
gifts['first'] = 'partridge';
gifts['second'] = 'turtledoves';
gifts['fifth'] = 'golden rings';

var nobleGases = Map();
nobleGases[2] = 'helium';
nobleGases[10] = 'neon';
nobleGases[18] = 'argon';
```

> ä½ å¯èƒ½ä¹ æƒ¯çœ‹åˆ° `new Map()` è€Œä¸æ˜¯ `Map()` ã€‚åœ¨ Dart2 ä¸­ï¼Œ `new` å…³é”®å­—æ˜¯å¯é€‰çš„ã€‚

å¯ä»¥åƒ JavaScript ä¸­ç»™ map Tinaæœºä¸€ä¸ªæ–°å€¼çš„æ–¹æ³•ä¸€æ ·æ·»åŠ ä¸€ä¸ªé”®å€¼å¯¹ã€‚

```dart
var gifts = {'first': 'partridge'};
// æ·»åŠ æ–°å€¼
gifts['fourth'] = 'calling birds';

// è·å–å€¼
assert(gifts['first'] == 'partridge');

// è·å–ä¸åˆ°å€¼ï¼Œé»˜è®¤ä¸º null
assert(gifts['second'] == null);

// è·å–é•¿åº¦
assert(gifts.length == 2);

// åˆ›å»ºç¼–è¯‘æ—¶å¸¸é‡
final constantMap = const {
    2: 'helium',
    10: 'neon',
    18: 'argon',
};
```

### Runes

åœ¨ Dart ä¸­ï¼Œ runes æ˜¯ UTF-32 ç¼–ç çš„ä»£ç å•å…ƒã€‚

Unicode ä¸ºä¸–ç•Œä¸Šæ‰€æœ‰ä¹¦å†™ç³»ç»Ÿä¸­ä½¿ç”¨çš„å¦¹å­å­—æ¯ã€æ•°å­—å’Œç¬¦å·å®šä¹‰å”¯ä¸€çš„æ•°å€¼ã€‚ç”±äº Dart å­—ç¬¦ä¸²æ˜¯ä¸€ç³»åˆ— UTF-16 ä»£ç å•å…ƒï¼Œå› æ­¤åœ¨å­—ç¬¦ä¸²ä¸­ä½¿ç”¨ 32 ä½ Unicode å€¼éœ€è¦ç‰¹æ®Šè¯­æ³•ã€‚

è¡¨è¾¾ Unicode ä»£ç ç‚¹çš„å¸¸ç”¨æ–¹æ³•æ˜¯ `\uXXXX` ï¼Œå…¶ä¸­çš„ XXXX æ˜¯ 4 ä½åå…­è¿›åˆ¶å€¼ã€‚ä¾‹å¦‚ï¼Œå¿ƒè„è§’è‰²ï¼ˆâ™¥ï¼‰æ˜¯ `\u2665` ã€‚è¦æŒ‡å®šå¤šäºæˆ–å°‘äº4ä¸ªåå…­è¿›åˆ¶æ•°å­—ï¼Œè¯·å°†å€¼æ”¾åœ¨å¤§æ‹¬å·ä¸­ã€‚ä¾‹å¦‚ï¼Œç¬‘çš„è¡¨æƒ…ç¬¦å·ï¼ˆğŸ˜†ï¼‰æ˜¯ `\u{1f600}`ã€‚

`String` ç±»æœ‰å‡ ä¸ªå±æ€§å¯ä»¥ç”¨äºæå– rune ä¿¡æ¯ã€‚ `codeUniAt` å’Œ `codeUnit` å±æ€§è¿”å› 16 ä½çš„ä»£ç ç‰‡æ®µã€‚ä½¿ç”¨ `runes` çš„å±æ€§å°±èƒ½è·å–å­—ç¬¦çš„ runesã€‚

ä¸‹é¢ä¾‹å­è¯´æ˜ï¼Œrunes ã€ 16 ä½ä»£ç å•å…ƒå’Œ 32 ä½ä»£ç å•å…ƒä¹‹é—´çš„å…³ç³»ã€‚

```dart
main() {
  var clapping = '\u{1f44f}';
  print(clapping);
  print(clapping.codeUnits);
  print(clapping.runes.toList());

  Runes input = new Runes(
      '\u2665  \u{1f605}  \u{1f60e}  \u{1f47b}  \u{1f596}  \u{1f44d}');
  print(new String.fromCharCodes(input));
}
```

> ä½¿ç”¨åˆ—è¡¨æ“ä½œ runes æ˜¯éœ€è¦å°å¿ƒã€‚è¿™ç§æ–¹æ³•å¾ˆå®¹æ˜“åˆ†è§£ï¼Œå…·ä½“å–å†³äºç‰¹å®šçš„è¯­è¨€ã€å­—ç¬¦é›†å’Œæ“ä½œã€‚

### Symbols

`Symbol` å¯¹è±¡è¡¨ç¤ºåœ¨ Dart ç¨‹åºä¸­å£°æ˜çš„è¿ç®—ç¬¦æˆ–è€…æ ‡è¯†ç¬¦ã€‚ä½ å¯èƒ½æ°¸è¿œä¸éœ€è¦ä½¿ç”¨ `symbols` ï¼Œä½†å®ƒä»¬å¯¹äºæŒ‰åç§°å¼•ç”¨è¡¨ç¤ºç¬¦çš„ API éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå‹ç¼©åªä¼šæ›´æ”¹æ ‡è¯†ç¬¦åç§°è€Œä¸ä¼šæ›´æ”¹æ ‡è¯†ç¬¦ç¬¦å·ã€‚

æƒ³è¦è·å–æ ‡è¯†ç¬¦çš„ç¬¦å·ï¼Œè¯·ä½¿ç”¨ç¬¦å·æ–‡å­—ã€‚åªç”¨åœ¨ `#` åè¾¹è·Ÿæ ‡è¯†ç¬¦ã€‚

```dart
#radix
#bar
```

`Symbol` æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚